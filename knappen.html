<html>

<head>
    <meta charset="utf-8">

    <link href="css/knapp.css" rel="stylesheet"/>

    <style>
        * {
            box-sizing: border-box;
        }

        html {
            height: 100%;
        }

        body {
            background: #cdcfca;
            background: linear-gradient(#fafafa, #cdcfca);
            height: 100%;
            overflow: hidden;
            -webkit-font-smoothing: antialiased;


            display: flex;
            align-items: center;
            justify-content: center;
        }

    </style>

    <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

</head>
<body style="">

<section>

    <div class=round>
        <input type=checkbox id=onoff name=onoff onclick="kjor()"/>
        <div class=back>
            <label class=but for=onoff>
                <span class=off>PÃ¥</span>
                <span class=on>Av</span>
            </label>
        </div>
    </div>
</section>


<script type="application/javascript">

    var fb = new Firebase("https://intense-fire-5133.firebaseio.com");

    fb.on("value", function(data) {
        console.log("Data er mottatt");
        var erPaa = data.val() ? data.val().kjorer : "";

        if(erPaa){
            $('#onoff').prop('checked', true)
        } else {
            $('#onoff').prop('checked', false)
        }
    });

    function kjor(){
        var check = $('#onoff').is(':checked');
        console.log(check)

        if(check){
            $('.round').addClass('green');
        } else {
            $('.round').removeClass('green');
        }


        var tid = Date.now();
        fb.set({ kjorer: check});
    }

</script>

</body>


</html>
